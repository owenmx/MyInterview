[TOC]

## 1. åŒæŒ‡é’ˆç±»å‹

#### 1.1 åŒæŒ‡é’ˆçš„æ€æƒ³

åŒæŒ‡é’ˆçš„åŸºæœ¬æ€æƒ³æ˜¯`äºŒæ®µæ€§`ï¼š

+   `ï¼ˆæ‰©å……å­—ç¬¦ä¸²ï¼‰`ï¼šå½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œ`æŸç§æ€§è´¨`åªä¼šå¢åŠ æˆ–è€…ä¸å˜ã€‚
+   `ï¼ˆç¼©å°å­—ç¬¦ä¸²ï¼‰`ï¼šå½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œ`æŸç§æ€§è´¨`ä¼šå‡å°‘æˆ–è€…ä¸å˜ã€‚

åŒæŒ‡é’ˆçš„ç»†èŠ‚ï¼š

+   å¯¹äºæœ€åå…ƒç´ çš„å¤„ç†ï¼Œæœ‰å¯èƒ½æŒ‡é’ˆä¸€å‘å³è¾¹æ‰©å¼ ï¼›ç„¶åï¼Œéœ€è¦åœ¨æœ€åå¢åŠ ä¸€ä¸ªé¢å¤–çš„å¤„ç†æ¡ä»¶ã€‚



#### 1.2 æ»‘åŠ¨çª—å£æ¨¡æ¿

```python
def findSubstring(s):
    N = len(s) # æ•°ç»„/å­—ç¬¦ä¸²é•¿åº¦
    left, right = 0, 0 # åŒæŒ‡é’ˆï¼Œè¡¨ç¤ºå½“å‰éå†çš„åŒºé—´[left, right]ï¼Œé—­åŒºé—´
    counter = collections.Counter() # ç”¨äºç»Ÿè®¡ å­æ•°ç»„/å­åŒºé—´ æ˜¯å¦æœ‰æ•ˆ
    res = 0 # ä¿å­˜æœ€å¤§çš„æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ å­æ•°ç»„/å­ä¸² é•¿åº¦
    while right < N: # å½“å³è¾¹çš„æŒ‡é’ˆæ²¡æœ‰æœç´¢åˆ° æ•°ç»„/å­—ç¬¦ä¸² çš„ç»“å°¾
        counter[s[right]] += 1 # å¢åŠ å½“å‰å³è¾¹æŒ‡é’ˆçš„æ•°å­—/å­—ç¬¦çš„è®¡æ•°
        while åŒºé—´[left, right]ä¸ç¬¦åˆé¢˜æ„ï¼š# æ­¤æ—¶éœ€è¦ä¸€ç›´ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆé¢˜æ„çš„åŒºé—´
            counter[s[left]] -= 1 # ç§»åŠ¨å·¦æŒ‡é’ˆå‰éœ€è¦ä»counterä¸­å‡å°‘leftä½ç½®å­—ç¬¦çš„è®¡æ•°
            left += 1 # çœŸæ­£çš„ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œæ³¨æ„ä¸èƒ½è·Ÿä¸Šé¢ä¸€è¡Œä»£ç å†™å
        # åˆ° while ç»“æŸæ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªç¬¦åˆé¢˜æ„è¦æ±‚çš„ å­æ•°ç»„/å­ä¸²
        res = max(res, right - left + 1) # éœ€è¦æ›´æ–°ç»“æœ
        right += 1 # ç§»åŠ¨å³æŒ‡é’ˆï¼Œå»æ¢ç´¢æ–°çš„åŒºé—´
    return res

ä½œè€…ï¼šfuxuemingzhu
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-repeating-character-replacement/solution/fen-xiang-zhen-cang-de-shuang-zhi-zhen-m-fdsk/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## é¢˜ç›® ~ 1. ç¢°æ’æŒ‡é’ˆç±»å‹

#### 42 æ¥é›¨æ°´ 

>   ![image-20211014192218265](images/image-20211014192218265.png)
>
>   **åŒæŒ‡é’ˆ + çŸ­æ¿åŸç†**
>
>   åŒæŒ‡é’ˆï¼Œä»ä¸¤å¤´åˆ°ä¸­é—´ï¼ŒåŒæ—¶æ ¹æ®çŸ­æ¿åŸç†ï¼Œåœ¨æ¯æ¬¡é€‰æ‹©æ—¶å€™é€‰æ‹©è¾ƒçŸ­çš„ä¸‹æ ‡è¿›è¡Œæ‰©å±•ã€‚

```python
class Solution:
    def trap(self, height: List[int]) -> int:
        left,right = 0,len(height)-1

        fill = 0
        while left < right:
            if height[left] >= height[right]:
                if height[right-1] < height[right]:
                    fill += (height[right] - height[right-1])
                    height[right-1] = height[right]
                right -= 1
            else:
                if height[left+1] < height[left]:
                    fill += (height[left] - height[left+1])
                    height[left+1] = height[left]
                left += 1
        return fill
```



#### 658 æ‰¾åˆ°kä¸ªæœ€æ¥è¿‘çš„å…ƒç´  

>   **äºŒåˆ†æ³• + åŒæŒ‡é’ˆ** 
>
>   +   äºŒåˆ†æ³•æ‰¾åˆ°å…ƒç´ ä¸‹æ ‡ï¼ˆå› ä¸ºå…ƒç´ ä¸ä¸€å®šå­˜åœ¨ï¼Œæ‰€ä»¥éœ€è¦è°ƒæ•´indexä½¿å¾—`arr[index]~x`ï¼‰
>   +   åŒæŒ‡é’ˆæ‰©å±•å¾—åˆ°æ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼Œé€‰å–å…ƒç´ æ—¶å€™æŒ‰ç…§ç»™å®šçš„æ ‡å‡†ã€‚

```python
class Solution:
    def findClosestElements(self, arr: List[int], k: int, x: int) -> List[int]:
        # äºŒåˆ†æ³•å¿«é€ŸæŸ¥æ‰¾ä¸‹æ ‡
        import bisect
        index = bisect.bisect_left(arr,x)
        n = len(arr)
        if index >= n: return arr[-k:]
        if index <= 0: return arr[:k]

        # è°ƒæ•´ä¸€ä¸‹ï¼ŒäºŒåˆ†æ³•æŸ¥æ‰¾åˆ°çš„åæ ‡ï¼Œä½¿å¾—åˆå§‹ä¸‹æ ‡æ›´æ¥è¿‘x
        if (x-arr[index-1]) <= (arr[index]-x):
            index -= 1
        k -= 1
        left,right = index-1,index+1

        # åŒæŒ‡é’ˆæŸ¥æ‰¾
        while k > 0 and left >= 0 and right < n:
            left_val = x - arr[left]
            right_val = arr[right] - x
            if left_val <= right_val: left -= 1
            else: right += 1
            k -= 1

        # å¤„ç†è¾¹ç•Œæƒ…å†µ
        if left == -1: right = right + k
        if right == n: left = left - k
        return arr[left+1:right]
```

#### 125. éªŒè¯å›æ–‡ä¸² 

æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œå·¦å¼€å¤´ï¼Œå³ç»“å°¾ï¼Œæ»¡è¶³æ¡ä»¶å°±å‘ä¸­é—´æ”¶ç¼©ã€‚

```python
class Solution:
    def isPalindrome(self, s: str) -> bool:
        left = 0
        right = len(s) - 1

        while left < right:
            f1 = s[left].isalpha() or s[left].isdigit()
            f2 = s[right].isalpha() or s[right].isdigit()
            if f1 and f2:
                if s[left].lower() == s[right].lower():
                    left += 1
                    right -= 1
                else:
                    return False
            if not f1: left += 1 # ç•¥è¿‡ç©ºæ ¼
            if not f2: right -= 1 # ç•¥è¿‡ç©ºæ ¼
        return True
```



#### 680. éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡ 

æ€è·¯ï¼šåŒæŒ‡é’ˆï¼Œå·¦å¼€å¤´ï¼Œå³ç»“å°¾ï¼Œæ»¡è¶³æ¡ä»¶å°±å‘ä¸­é—´æ”¶ç¼©ï¼Œé‡åˆ°ä¸ä¸€æ ·ï¼Œåˆ™è·³è¿‡å·¦è¾¹æˆ–è€…å³è¾¹ï¼Œç„¶åç›´æ¥åˆ¤æ–­å‰©ä¸‹çš„å­—ç¬¦æ˜¯å¦æ„æˆå›æ–‡ä¸²ã€‚

```python
class Solution:
    def validPalindrome(self, s: str) -> bool:
        def is_valid(s,l,r):
            while l < r:
                if s[l] != s[r]:
                    return False
                l += 1
                r -= 1
            return True

        left,right = 0,len(s)-1
        while left < right:
            if s[left] != s[right]:
                return is_valid(s,left+1,right) or is_valid(s,left,right-1)
            left += 1
            right -= 1
        return True
```

#### 881. æ•‘ç”Ÿè‰‡ 

>   **æ’åº + åŒæŒ‡é’ˆ**
>
>   ![image-20210716125539721](images/image-20210716125539721.png)
>
>   è¿™ä¸€é¢˜å®¹æ˜“å‡ºé”™ï¼Œå…³é”®ç‚¹åœ¨äºæ¯è‰˜èˆ¹`æœ€å¤šåŒæ—¶è½½ä¸¤äºº`ï¼Œæœ‰äº†è¿™ä¸ªæ¡ä»¶ï¼Œé—®é¢˜è¢«ç®€åŒ–äº†å¾ˆå¤šï¼Œè´ªå¿ƒæ€è·¯
>
>   +   å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä»æ•°ç»„ä¸¤ç«¯ã€‚
>   +   åŒæŒ‡é’ˆï¼Œè¾ƒå¤§çš„æ­é…è¾ƒå°çš„ã€‚

```python
class Solution:
    def numRescueBoats(self, people: List[int], limit: int) -> int:
        """
        æ’åºå + åŒæŒ‡é’ˆ
        """
        people.sort()
        n = len(people)
        left,right = 0,n-1
        ans = 0

        while people[right] >= limit: 
            ans += 1
            right -= 1
        
        while left < right:
            val = people[left] + people[right]
            if val > limit:
                ans += 1
                right -= 1
            elif val <= limit:
                left += 1
                right -= 1
                ans += 1
        if left == right: ans += 1
        return ans
```



#### 1793. å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•° 

>   æ€è·¯ï¼šåŒæŒ‡é’ˆåšæ³•ï¼Œç¬¬kä¸ªä¸‹æ ‡å¼€å§‹ï¼Œå‘ä¸¤è¾¹æ‰©æ•£ï¼Œå®šä¹‰ä¸€ä¸ª`min_val`ç»´æŠ¤å½“å‰é«˜åº¦çš„æœ€å°å€¼ã€‚

```python
class Solution:
    def maximumScore(self, nums: List[int], k: int) -> int:
        i,j = k,k
        ans = 0
        min_val = float("inf")
        while i >= 0 and j < len(nums):
            min_val = min(nums[j],min_val)
            min_val = min(nums[i],min_val)
            ans = max(ans,(j-i+1)*(min_val))
            if i == 0: j+=1
            elif j == len(nums)-1: i -= 1
            elif nums[j+1] > nums[i-1]: j += 1 # è¿™æ ·ï¼Œé€‰æ‹©å³è¾¹è‚¯å®šæ¯”é€‰æ‹©å·¦è¾¹æ”¶ç›Šå¤§
            else: i -= 1 # è¿™æ ·ï¼Œé€‰æ‹©å·¦è¾¹è‚¯å®šæ¯”é€‰æ‹©å³è¾¹æ”¶ç›Šå¤§
        return ans
```



## é¢˜ç›® ~ 2. æ»‘åŠ¨çª—å£ç±»å‹

>   åŸºæœ¬æ­¥éª¤ï¼š
>
>   ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°æ‰©å¼ çš„æ ‡å‡†ã€‚
>
>   ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°æ”¶ç¼©çš„æ ‡å‡†ã€‚
>
>   ç¬¬ä¸‰æ­¥ï¼šæ³¨æ„æœ€åä¸€ä¸ªç‰¹ä¾‹çš„å¤„ç†ã€‚



#### 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² 

>   æ€è·¯ï¼šå¥—ä¸Šé¢çš„æ¡†æ¶ï¼Œå…ˆæ‰©å……å³è¾¹ï¼Œç„¶ååˆ¤æ–­åŒºé—´æ˜¯å¦æ­£ç¡®ï¼Œé€‰æ‹©æ˜¯ç§»åŠ¨å·¦è¾¹ã€‚
>
>   ![image-20210719202806900](images/image-20210719202806900-1626697689164.png)
>
>   å°±å­˜åœ¨`äºŒæ®µæ€§`äº†ï¼Œä¹Ÿå°±æ˜¯ï¼š
>
>   +   å½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå¢åŠ æˆ–è€…ä¸å˜ã€‚
>   +   å½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå‡å°‘æˆ–è€…ä¸å˜ã€‚

```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        n = len(s)
        ans = 0
        left = right = 0
        count = collections.defaultdict(int)

        while right < n:
            if count[s[right]] == 0:
                count[s[right]] += 1
                right += 1
            else:
                ans = max(ans,right-left)
                while s[left] != s[right]:
                    count[s[left]] -= 1
                    left += 1
                count[s[left]] -= 1
                left += 1
        ans = max(ans,right-left)
        return ans
```

#### 76. æœ€å°è¦†ç›–å­ä¸² ğŸ‰

>   æ€è·¯ï¼šåŒæ ·æ˜¯å³è¾¹æ‰©å¼ ï¼Œå·¦è¾¹æ”¶ç¼©ï¼Œä½†æ˜¯åŒºåˆ«åœ¨äºæ˜¯æ±‚æœ€å°è¦†ç›–å­ä¸²ï¼Œæ‰€ä»¥åœ¨å³è¾¹åˆ°è¾¾è¾¹ç•Œä¹‹åï¼Œä»ç„¶éœ€è¦ç¼©å°å·¦è¾¹è¾¹ç•Œã€‚
>
>   ![image-20210719202855485](images/image-20210719202855485-1626697736995.png)
>
>   ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°æ‰©å¼ çš„æ ‡å‡†ã€‚ã€åŒ¹é…çš„å­—ç¬¦æ•°é‡æ˜¯å¦å¤§äº0ã€‘
>
>   ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°æ”¶ç¼©çš„æ ‡å‡†ã€‚
>
>   ç¬¬ä¸‰æ­¥ï¼šæ³¨æ„æœ€åä¸€ä¸ªç‰¹ä¾‹çš„å¤„ç†ã€‚

```python
class Solution:
    def minWindow(self, s: str, t: str) -> str:
        count = collections.Counter(t)
        number = len(s)
        ans = [float("inf"),0,0]

        left = right = 0
        while right < len(s):
            if number > 0: # æ‰©å……å³è¾¹ç•Œ
                if s[right] in count:
                    if count[s[right]] > 0:
                        number -= 1
                    count[s[right]] -= 1
                right += 1
            else:
                if (right-left) < ans[0]:
                    ans = [right-left,left,right]

                # è¶Šè¿‡ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²
                if s[left] in count:
                    if count[s[left]] == 0:
                        number += 1
                    count[s[left]] += 1
                left += 1                    
                
                # ç¼©å°å·¦è¾¹ç•Œ
                while left < right and (s[left] not in count or count[s[left]] < 0):
                    if s[left] in count:
                        count[s[left]] += 1
                    left += 1

        if number == 0:
            while left < right and (s[left] not in count or count[s[left]] < 0):
                if s[left] in count:
                    count[s[left]] += 1
                left += 1
            return s[left:right] if right-left < ans[0] else s[ans[1]:ans[2]]
        else:
            return s[ans[1]:ans[2]]
```

#### 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ 

>   æ€è·¯ï¼šå’Œ`76`é¢˜ç±»ä¼¼ï¼Œä½†æ˜¯è¿™é¢˜ä¸è¦æ±‚æœ€çŸ­ï¼Œè€Œæ˜¯æ±‚å‡ºæ‰€æœ‰çš„å­—ç¬¦å¼‚ä½è¯ï¼Œæ‰€ä»¥åº”è¯¥ç»´æŠ¤ä¸€ä¸ªå›ºå®šçš„æ»‘åŠ¨çª—å£ã€‚
>
>   ![image-20210719204037449](images/image-20210719204037449-1626698439000.png)

```python
class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        p_counter = collections.Counter(p)
        counter = collections.defaultdict(int)
        size = len(p)
        n = len(s)
        left = right = 0
        ans = []
        while right < n:
            if s[right] in p_counter:
                counter[s[right]] += 1
                if counter[s[right]] <= p_counter[s[right]]:
                    size -= 1
                    if size == 0: ans.append(left)
                else:
                    while left <= right and counter[s[right]] > p_counter[s[right]]:
                        if counter[s[left]] <= p_counter[s[left]]:
                            size += 1
                        counter[s[left]] -= 1
                        left += 1
                        if size == 0: ans.append(left) # ç¼©å‡çš„æ—¶å€™ä¹Ÿéœ€è¦è€ƒè™‘å¯èƒ½çš„ç­”æ¡ˆ
                right += 1
            else:
                right += 1
                left = right
                size = len(p)
                counter = collections.defaultdict(int)
        return ans
            
```



#### 567. å­—ç¬¦ä¸²çš„æ’åˆ— 

>   æ€è·¯ï¼šä¸438é¢˜ç±»ä¼¼ï¼Œåˆ©ç”¨`Counter`æˆ–è€…å­—å…¸ç›´æ¥è¿›è¡Œç¢°æ’ï¼Œ[è§£æ³•](https://leetcode-cn.com/problems/permutation-in-string/solution/zhu-shi-chao-xiang-xi-de-hua-dong-chuang-rc7d/)
>
>   ![image-20210719203843763](images/image-20210719203843763-1626698325461.png)

```python
class Solution:
    def checkInclusion(self, s1: str, s2: str) -> bool:
        s1_counter = collections.Counter(s1)
        counter = collections.defaultdict(int)
        size = len(s1)

        left = right = 0
        n = len(s2)
        while right < n:
            if s2[right] in s1_counter:
                counter[s2[right]] += 1
                if counter[s2[right]] <= s1_counter[s2[right]]:
                    size -= 1
                    if size == 0: return True
                else:
                    while left < right and counter[s2[right]] > s1_counter[s2[right]]:
                        if counter[s2[left]] <= s1_counter[s2[left]]:
                            size += 1
                        counter[s2[left]] -= 1
                        left += 1
                right += 1
            else:
                size = len(s1)
                counter = collections.defaultdict(int)
                right += 1
                left = right
        
        return False
```



#### 16 æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ 

>   åœ¨ä¸‰æ•°ä¹‹å’Œä¸Šï¼Œç»´æŠ¤ä¸€ä¸ªdiffå˜é‡å­˜å‚¨å½“å‰çš„æœ€å°å·®å€¼ã€‚

```python
class Solution:
    def threeSumClosest(self, nums: List[int], target: int) -> int:
        n = len(nums)
        nums.sort()
        ans = 0
        diff = float("inf")

        for i in range(n):
            left = i + 1
            right = n - 1

            while left < right:
                cur = nums[i] + nums[left] + nums[right]
                if cur == target: 
                    return target
                else:
                    if cur > target: right -= 1
                    else: left += 1
                if abs(cur-target) < diff:
                    diff = abs(cur-target)
                    ans = cur
        return ans
```





#### 209. é•¿åº¦æœ€å°çš„å­æ•°ç»„ 

>   ![image-20211014195905662](images/image-20211014195905662.png)
>
>   æ€è·¯ï¼šåˆ©ç”¨æ•°ç»„å…ƒç´ å…¨éƒ¨ä¸ºæ­£çš„æ€§è´¨ï¼Œé¡ºåºæ»‘åŠ¨ï¼Œå¦‚æœå½“å‰å’Œå¤§äºç­‰äº`target`ï¼Œåˆ™å¯¹çª—å£è¿›è¡Œç¼©å°ï¼›å¦è€…ï¼Œå¯¹çª—å£è¿›è¡Œæ‰©å¼ ï¼Œ`æ»‘åŠ¨çª—å£`ã€‚

```python
class Solution:
    def minSubArrayLen(self, target: int, nums: List[int]) -> int:
        left = right = 0
        n = len(nums)
        ans = float("inf")
        cur = 0

        while right < n:
            cur += nums[right]

            if cur >= target:
                while cur >= target and left <= right:
                    ans = min(ans,right-left+1)
                    cur -= nums[left]
                    left += 1
            right += 1
        return 0 if  ans == float("inf") else ans
```





#### 424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ ğŸ‰

>   ![image-20211014200106298](images/image-20211014200106298.png)
>
>   æ€è·¯ï¼šç»´æŠ¤ä¸€ä¸ª`max_n`ï¼Œè¡¨ç¤ºæ»‘åŠ¨çª—å£ä¸­æ•°é‡æœ€å¤šçš„å­—ç¬¦ï¼Œè€Œ`max_n+k`è¡¨ç¤ºäº†æ»‘åŠ¨çª—å£ä¸­å­—ç¬¦å«©æ„æˆçš„æœ€é•¿å­—ç¬¦ä¸²ï¼ˆå«æ›¿æ¢ï¼‰ã€‚

```python
class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        counter = collections.defaultdict(int)
        left,right = 0,0
        n = len(s)
        max_n = 0
        ans = 0
        while right < n: 
            counter[s[right]] += 1
            max_n = max(max_n,counter[s[right]])
            """
            right-left+1ç»´æŠ¤çš„æ˜¯å½“å‰çš„åŒºé—´ï¼›
            max_n+kç»´æŠ¤çš„æ˜¯ç›®å‰æœ€å¥½çš„ç»“æœï¼›
            [left,right]ä¸­çš„å…ƒç´ ä¸ä¸€å®šèƒ½æ˜¯æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯å¯¹åº”é•¿åº¦ç¡®å®æœ€é•¿çš„ã€‚
            """
            while right-left+1 > max_n + k:
                counter[s[left]] -= 1
                left += 1
            ans = max(ans,right-left+1)
            right += 1
        return ans
```



#### 532. æ•°ç»„ä¸­çš„k-diffæ•°å¯¹ ğŸ‰

>   ![image-20211014201102660](images/image-20211014201102660.png)

æ€è·¯ï¼šåŒæŒ‡é’ˆæ³•ï¼Œéš¾ç‚¹æ˜¯éœ€è¦è€ƒè™‘**é‡å¤å…ƒç´ **çš„å‰”é™¤ã€‚

```java
class Solution:
    def findPairs(self, nums: List[int], k: int) -> int:
        if k == 0:
            return sum([v >= 2 for key,v in collections.Counter(nums).items()])
        n = len(nums)
        nums.sort()
        left = right = 0
        ans = 0
        while right < n:
            diff = nums[right]-nums[left]
            if diff >= k:
                while diff > k and left <= right:
                    left += 1
                    diff = nums[right] - nums[left]
                if diff == k: 
                    ans += 1
                    left += 1
                while left < right and nums[left] == nums[left-1]: left += 1
            right += 1
        
        return ans
https://leetcode-cn.com/problems/k-diff-pairs-in-an-array/solution/pai-xu-bian-li-zhi-xing-yong-shi-4-ms-zai-suo-you-/
```

+   å“ˆå¸Œæ³•

    ```python
    class Solution:
        def findPairs(self, nums: List[int], k: int) -> int:
            if k<0:
                return 0
            visited = set()
            diff = set()
            for num in nums:
                if num-k in visited:
                    diff.add((num,num-k)) # ä¿è¯å”¯ä¸€æ€§
                if num+k in visited:
                    diff.add((num+k,num))
                visited.add(num)
            return len(diff)
    
    ```

    

-------



#### 713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„

>   æ€è·¯ï¼šè¿™ä¸€é¢˜å’Œ**209é¢˜**ç±»ä¼¼ï¼Œåªä¸è¿‡è¿™ä¸€é¢˜æ˜¯æ±‚è§£ä¹˜ç§¯ï¼Œæ€è·¯æ˜¯ä¸€è‡´çš„ã€‚
>
>   $ans += (right-left+1)$ è¡¨ç¤ºçš„å«ä¹‰æ˜¯ ä»¥å³è¾¹ç•Œ$right$ä¸ºç»“å°¾çš„æ»¡è¶³æ¡ä»¶çš„æ•°ç»„çš„ä¸ªæ•°

```python
# ä»¥è¾“å…¥[10,5,2,6]ä¸ºä¾‹å­
# [10]   [5]  [2]   [6]
#    [10,5] [5,2] [2,6]
#           [5,2,6]
class Solution:
    def numSubarrayProductLessThanK(self, nums: List[int], k: int) -> int:
        # nums = [10,5,2,6], k = 100
        left,right = 0,0
        ans = 0
        cur = 1
        while right < len(nums):
            cur = cur * nums[right]
            if cur >= k:
                while left <= right and cur >= k:
                    cur /= nums[left]
                    left += 1
            ans += (right-left+1)
            right += 1
        return ans
```



#### 992 Kä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„ ğŸ‰

>   **åŒæŒ‡é’ˆ**
>
>   é‡‡ç”¨`å·®é›†`çš„æ€æƒ³ï¼ŒKä¸ªä¸åŒæ•´æ•°çš„å­æ•°ç»„çš„ä¸ªæ•°å¤§å°ï¼Œå¯ä»¥ç”±ä¸¤éƒ¨åˆ†çš„é›†åˆç›¸å‡å¾—åˆ°ã€‚
>
>   è¿™ç§ä¸¤ä¸ªé›†åˆå°±æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°å°äºç­‰äº`K`çš„æ•°ç»„æ•°é‡å’Œå­æ•°ç»„ä¸­ä¸åŒæ•´æ•°çš„ä¸ªæ•°å°äºç­‰äº`K-1`çš„æ•°ç»„æ•°é‡ã€‚
>
>   è€ŒæŸä¸€ä¸ªé›†åˆçš„æ•°ç»„æ•°é‡çš„æ±‚æ³•ç­‰åŒäº713é¢˜å’Œ424é¢˜ã€‚
>
>   ![image-20210719102412604](images/image-20210719102412604-1626661453966.png)

```python
class Solution:
    def subarraysWithKDistinct(self, nums: List[int], k: int) -> int:
        """
            åŒæŒ‡é’ˆ + äºŒæ®µæ€§
            å³æŒ‡é’ˆå‘å³ï¼Œå­—ç¬¦çš„æ•°é‡å¯èƒ½å¢åŠ æˆ–è€…ä¸å˜
            å·¦æŒ‡é’ˆå‘å³ï¼Œå­—ç¬¦çš„æ•°é‡å¯èƒ½å‡å°‘æˆ–è€…ä¸å˜
        """
        def helper(nums,k):
            left = right = 0
            n = len(nums)
            counter = collections.defaultdict(int)
            ans = 0
            cnt = 0
            while right < n:
                if counter[nums[right]] == 0: cnt += 1
                counter[nums[right]] += 1
                while cnt > k:
                    counter[nums[left]] -= 1
                    if counter[nums[left]] == 0: cnt -= 1
                    left += 1
                ans += (right-left+1)
                right += 1
            return ans
        return helper(nums,k) - helper(nums,k-1)
```



#### 2001 æœ€å¤§å€¼å‡å»æœ€å°å€¼å°äºæˆ–ç­‰äºnumçš„å­æ•°ç»„æ•°é‡  ğŸ‰ğŸ‰

>   ç»™å®šæ•°ç»„arrå’Œæ•´æ•°numï¼Œå…±è¿”å›æœ‰å¤šå°‘ä¸ªå­æ•°ç»„æ»¡è¶³å¦‚ä¸‹æƒ…å†µï¼š
>
>   $\max(arr[i,\cdots,j])-\min(arr[i,\cdots,j]) <= num$
>
>   æ€è·¯ï¼š
>
>   ![image-20210901200654455](images/image-20210901200654455.png)
>
>   ![image-20210901200711749](images/image-20210901200711749.png)
>
>   ![image-20210901200825963](images/image-20210901200825963.png)
>
>   ![image-20210901200838259](images/image-20210901200838259.png)

```python
def solution(nums,gap):
    n = len(nums)
    queue_min = collections.deque() # å•è°ƒå¢é˜Ÿåˆ—
    queue_max = collections.deque() # å•è°ƒå‡é˜Ÿåˆ—
    i = j = 0
    ans = 0
    while i < n:
        while j < n:
            while queue_max and nums[queue_max[-1]] <= nums[j]:
                queue_max.pop()
            queue_max.append(j)
            
            while queue_min and nums[queue_min[-1]] >= nums[j]:
                queue_min.pop()
            queue_min.append(j)
            if nums[queue_max[0]] - nums[queue_min[0]] > gap:
                break
            j += 1
        if queue_min[0] == i:
            queue_min.popleft()
        if queue_max[0] == i:
            queue_max.popleft()
        # å½“å‰çš„`j-i`ä¿å­˜çš„æ˜¯ä»¥arr[i]ä½œä¸ºå¼€å§‹èŠ‚ç‚¹çš„å­æ•°ç»„
        ans += j-i
        i += 1
    return ans

nums = [1,2,4,5,5] 
gap = 2
ans = solution(nums,gap)
print(ans)
```



#### 1004. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III è¡¨

>   ![image-20211015105937959](images/image-20211015105937959.png)
>
>   æ€è·¯ï¼šå’Œ424é¢˜ç±»ä¼¼ï¼Œéƒ½æ˜¯æ›´æ¢Kä¸ªå€¼åï¼Œå”¯ä¸€å…ƒç´ çš„æ•°é‡å¤§å°ã€‚

```python
class Solution:
    def longestOnes(self, nums: List[int], k: int) -> int:
        max_n = 0
        ans = 0
        n = len(nums)
        left = right = 0
        cnt = 0 # æ»‘åŠ¨çª—å£ä¸­1çš„æ•°é‡
        
        while right < n:
            cnt += nums[right]
            max_n = max(max_n,cnt)
            while right-left+1 > max_n + k:
                cnt -= nums[left]
                left += 1
            ans = max(ans,right-left+1)
            right += 1
        
        return ans
```

#### 1248 ç»Ÿè®¡ä¼˜ç¾å­æ•°ç»„ 

>   åŒæŒ‡é’ˆé—®é¢˜ä¸Šï¼Œå¯ä»¥é‡‡ç”¨å’Œ992é¢˜ç±»ä¼¼çš„æ€è·¯ï¼Œéœ€è¦æ±‚æ°å¥½ä¸º `k` ä¸ªå¥‡æ•°æ•°å­—çš„å­æ•°ç»„ï¼Œå¯ä»¥ç”¨æ‰€æœ‰å°äºç­‰äºkçš„å­æ•°ç»„å‡å»æ‰€æœ‰å°äºç­‰äºk-1çš„å­æ•°ç»„ã€‚

```python
class Solution:
    def numberOfSubarrays(self, nums: List[int], k: int) -> int:
        def findK(nums,k):
            n = len(nums)
            left = right = 0
            odd = 0
            ans = 0
            while right < n:
                odd += nums[right]&1
                while odd > k and left <= right:
                    odd -= nums[left]&1
                    left += 1
                ans += (right-left+1)
                right += 1
            return ans
        
        return findK(nums,k) - findK(nums,k-1)
```



#### 395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ‰ğŸ‰

>   **åŒæŒ‡é’ˆæ³•ï¼š**
>
>   `äºŒæ®µæ€§ï¼š`ä¹Ÿå°±æ˜¯å‡è®¾æœ‰é•¿åº¦ `t` çš„ä¸€æ®µåŒºé—´æ»¡è¶³è¦æ±‚çš„è¯ï¼Œ`t + 1` é•¿åº¦çš„åŒºé—´æ˜¯å¦ã€Œä¸€å®šæ»¡è¶³ã€æˆ–è€…ã€Œä¸€å®šä¸æ»¡è¶³ã€å‘¢ï¼Ÿ
>
>   éœ€è¦æ³¨æ„ï¼šæ”¹é¢˜ç”¨ç®€å•çš„åŒæŒ‡é’ˆå¹¶ä¸å¯è§£ï¼Œå› ä¸ºä¸å­˜åœ¨`äºŒæ®µæ€§`ï¼Œä¹Ÿå°±æ˜¯å½“ï¼š
>
>   +   å½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œæœ€é•¿å­ä¸²æ—¢æœ‰å¯èƒ½å¢åŠ ï¼Œä¹Ÿæœ‰å¯èƒ½å‡å°‘ï¼Œæ¯”å¦‚ï¼š`aabbb[c]a`
>   +   å½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œæœ€é•¿å­ä¸²æ—¢æœ‰å¯èƒ½å¢åŠ ï¼Œä¹Ÿæœ‰å¯èƒ½å‡å°‘ï¼Œæ¯”å¦‚ï¼š`a[a]bbbca`
>
>   è¿™ä¸€é¢˜éœ€è¦è½¬åŒ–ä¸€ä¸‹ï¼Œè€ƒè™‘å­ä¸²ä¸­å­—ç¬¦çš„æ•°é‡ï¼Œè¿™æ—¶å€™å°±å­˜åœ¨`äºŒæ®µæ€§`äº†ï¼Œä¹Ÿå°±æ˜¯ï¼š
>
>   +   å½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå¢åŠ æˆ–è€…ä¸å˜ã€‚
>   +   å½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå‡å°‘æˆ–è€…ä¸å˜ã€‚

```python
class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        ans = 0
        n = len(s)

        # pçš„å«ä¹‰æ˜¯ä¸€ä¸ªå­ä¸²ä¸­æ‰€èƒ½åŒ…å«çš„å­ä¸²çš„ä¸ªæ•°
        # éå†æ¯ä¸€ç§ï¼ˆå­—ç¬¦ä¸²æ•°é‡ï¼‰å¯èƒ½çš„å­—ç¬¦ä¸²
        for p in range(1,26):
            cnt = [0]*26 # åˆå§‹åŒ–

            i = j = 0 # iå’Œjè¡¨ç¤ºçš„æ˜¯å­ä¸²å­—ç¬¦ä¸ªæ•°ä¸ºpçš„å·¦å³ä¸‹æ ‡ï¼ˆåŒ…å«ï¼‰
            tot = 0   # å½“å‰å­ä¸²ä¸­å­—ç¬¦çš„æ•°é‡ 
            sum = 0   # å½“å‰å­ä¸²ä¸­è¾¾æ ‡ï¼ˆæ•°é‡å¤§äºkï¼‰å­—ç¬¦çš„æ•°é‡
            while i < n:
                u = ord(s[i]) - 97 # å³è¾¹ç•Œå­—ç¬¦çš„ä¸‹æ ‡
                cnt[u] += 1        # å½“å‰å­—ç¬¦æ•°é‡åŠ ä¸€

                if cnt[u] == 1: tot += 1 # å­—ç¬¦æ€»æ•°åŠ ä¸€
                if cnt[u] == k: sum += 1 # å­—ç¬¦æ•°é‡è¾¾æ ‡ï¼ŒåŠ ä¸€

                while tot > p: # å­—ç¬¦æ•°é‡ä¸åˆæ³•ï¼Œç¼©å°è¾¹ç•Œç›´åˆ°åˆæ³•
                    t = ord(s[j]) - 97   # å·¦è¾¹ç•Œå­—ç¬¦çš„ä¸‹æ ‡
                    cnt[t] -= 1          # å½“å‰å­—ç¬¦æ•°é‡å‡ä¸€
                    if cnt[t] == 0: tot -= 1 # å­—ç¬¦æ€»æ•°å‡ä¸€
                    if cnt[t] == k-1: sum -= 1 # å­—ç¬¦æ•°é‡ä¸è¾¾æ ‡ï¼Œå‡ä¸€
                    j += 1

                if tot == sum: ans = max(ans,i-j+1)

                i += 1
        return ans
```

## é¢˜ç›® ~ 3. å¾ªç¯ä¸å˜æŒ‡é’ˆç±»å‹

#### 27. ç§»é™¤å…ƒç´ 

æ€è·¯ï¼šç»´æŠ¤ä¸€ä¸ªå¾ªç¯ä¸å˜æŒ‡é’ˆ`j`ï¼Œå®šä¹‰ä¸€ä¸ªå¾ªç¯æŒ‡é’ˆ`j`

```python
j = 0
for i in range(len(nums)):
    if condition is fine:
        nums[j] = xx
        j += 1 # å¾ªç¯ä¸å˜æŒ‡é’ˆç§»åŠ¨
return j
```



#### 80. åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ II

æ€è·¯ï¼šç»´æŠ¤ä¸€ä¸ªå¾ªç¯ä¸å˜æŒ‡é’ˆ`j`ï¼Œå®šä¹‰ä¸€ä¸ªå¾ªç¯æŒ‡é’ˆ`j`ï¼ŒåŸºæœ¬æ€è·¯åŒ27

```python
j = 0
for i in range(len(nums)):
    if j < 2 or nums[i] != nums[j-2]:
        nums[j] = nums[i]
        j += 1
return j

# or

slow = 2
fast = 2
while fast < n:
    if nums[slow-2] != nums[fast]:
        nums[slow] = nums[fast]
        slow += 1
    fast += 1
return slow
```





## é¢˜ç›® ~ 4. å¿«æ…¢æŒ‡é’ˆ

>   æ³¨ï¼šè¿™ç±»æ–¹æ³•`åˆ¤ç¯`é€šå¸¸åœ¨é“¾è¡¨æˆ–è€…æ•°ç»„ä¸­æ¯”è¾ƒå¸¸è§

#### 287. å¯»æ‰¾é‡å¤æ•°

>   åˆ©ç”¨å“ˆå¸Œè¡¨çš„æ€§è´¨

```python
class Solution:
    def findDuplicate(self, nums: List[int]) -> int:
        n = len(nums)

        i = 0
        while i < n:
            if nums[i] != i+1:
                if nums[nums[i]-1] == nums[i]:
                    return nums[i]
                else:
                    nums[nums[i]-1],nums[i] = nums[i],nums[nums[i]-1]
            else:
                i += 1
```

>   åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆåˆ¤ç¯æ³•ï¼š
>
>   ![image-20210715144059379](images/image-20210715144059379.png)

```python
class Solution:
    def findDuplicate(self, nums: List[int]) -> int:
        fast = slow = 0
        while True:
            fast = nums[nums[fast]]
            slow = nums[slow]
            if fast == slow:
                fast = 0
                while slow != fast: # æ‰¾åˆ°å…¥å£å¤„
                    fast = nums[fast]
                    slow = nums[slow]
                return slow # è¿”å›ç»“æœ
```



#### 457. ç¯å½¢æ•°ç»„æ˜¯å¦å­˜åœ¨å¾ªç¯

æ€è·¯ï¼šFloydåˆ¤ç¯æ³•

```python
n = len(nums)
nxt = lambda i:(i+nums[i])%n

for i in range(n):
    if nums[i] == 0: continue
    slow = i
    fast = nxt(i)
    while nums[i]*nums[fast] > 0 and nums[nxt(fast)]*nums[i] > 0:
        if slow == fast:
            if slow == nxt(slow): break
            else: return True
        slow = nxt(slow)
        fast = nxt(nxt(fast))
	while nums[i] > 0:
        nxt_i = nxt(i)
        nums[i] = 0
        i = nxt_i
return False
```



## é¢˜ç›®ï¼š~ 5. å¤šæ•°ç»„&å¤šé“¾è¡¨&å¤šæŒ‡é’ˆ

#### 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„

>   è®¾ç½®ä¸‰ä¸ªæŒ‡é’ˆï¼Œé€šè¿‡æ¯”è¾ƒå¤§å°è¿›è¡Œåˆå¹¶

```python
class Solution:
    def merge(self, nums1: List[int], m: int, nums2: List[int], n: int) -> None:
        """
        Do not return anything, modify nums1 in-place instead.
        """
        k = m + n - 1
        i = m - 1
        j = n - 1

        while i >= 0 and j >= 0:
            if nums1[i] > nums2[j]:
                nums1[k] = nums1[i]
                i -= 1
                k -= 1 
            else:
                nums1[k] = nums2[j]
                j -= 1
                k -= 1
        while j >= 0: 
            nums1[k] = nums2[j]
            k -= 1
            j -= 1
```

#### 328. å¥‡å¶é“¾è¡¨

>   **åŒæŒ‡é’ˆ**
>
>   åˆ©ç”¨ä¸€ä¸ªå˜é‡ `count=1`, éå†åˆ—è¡¨ï¼Œåˆ†å¼€å¥‡é“¾è¡¨å’Œå¶é“¾è¡¨ï¼Œç„¶åå†æ‹¼æ¥ã€‚

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def oddEvenList(self, head: ListNode) -> ListNode:
        dummy = ListNode(-1)
        dummy.next = head
        p = head
        count = 1

        odd = ListNode(-1)
        even = ListNode(-1)

        p1 = odd
        p2 = even

        while p:
            if count & 1:
                p1.next = p
                p1 = p1.next
                p = p.next
                p1.next = None
            else:
                p2.next = p
                p2 = p2.next
                p = p.next
                p2.next = None
            count += 1

        p1.next = even.next
        return dummy.next
```

>   **åŒæŒ‡é’ˆ + åŸåœ°æ“ä½œ**
>
>   ![image.png](images/1605227711-BsDKjR-image.png)

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def oddEvenList(self, head: ListNode) -> ListNode:
        if not head: return head

        dummy = ListNode(-1)
        dummy.next = head
        odd = head
        cur = even = head.next

        while even and even.next:
            odd.next = odd.next.next # è¶Šè¿‡ä¸‹ä¸€ä¸ª
            even.next = even.next.next # è¶Šè¿‡ä¸‹ä¸€ä¸ª
            odd = odd.next
            even = even.next
        odd.next = cur
        return dummy.next
```



#### 524. é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯ ğŸ‰

>   ![image-20211015112333743](images/image-20211015112333743.png)
>
>   æ€è·¯ï¼šè¿™ä¸€é¢˜å½“ç„¶å¯ä»¥ç”¨`å­—å…¸æ ‘+DFS`è¿›è¡ŒåŒ¹é…ï¼Œä½†æ˜¯è‚¯å®šè¶…æ—¶ã€‚æ­£ç¡®çš„è§£æ³•æ˜¯é‡‡ç”¨`æ’åº+åŒæŒ‡é’ˆ`ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå­—ç¬¦ï¼Œç„¶åé€ä¸ªæ¯”è¾ƒã€‚

```python
class Solution:
    def findLongestWord(self, s: str, dictionary: List[str]) -> str:
        dictionary.sort(key=lambda x:[-len(x),x])

        for word in dictionary:
            i,j = 0,0
            while i < len(word) and j < len(s):
                if word[i] == s[j]:
                    i += 1
                    j += 1
                else:
                    j += 1
            if i == len(word):
                return word
        return ""
```



#### 632. æœ€å°åŒºé—´ ğŸ‰

>   ![image-20211015112534082](images/image-20211015112534082.png)
>
>   æ€è·¯ï¼šè¿™ä¸€é¢˜å’Œ`23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨`ï¼Œéƒ½æ˜¯å¤šä¸ªæ•°ç»„é‡‡ç”¨å¤šæŒ‡é’ˆï¼Œç„¶ååˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œéœ€è¦æœ€å°å€¼ã€æœ€å¤§å€¼ä»¥åŠåŒºé—´çš„çš„æœ€å°å€¼ã€‚

```python
class Solution:
    def smallestRange(self, nums: List[List[int]]) -> List[int]:
        # å½“å‰åŒºé—´çš„æœ€å°å€¼ï¼Œæœ€å°å€¼å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡
        import heapq
        heap = []
        MIN = float("-inf")
        right = left = MIN

        for i in range(len(nums)):
            heapq.heappush(heap,[nums[i][0],i,0]) # è¿›å…¥å †çš„å…ƒç´ ä¸ºï¼ˆç¬¬iä¸ªåŒºé—´çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŒºé—´çš„ä¸‹æ ‡ï¼Œå…ƒç´ çš„ä¸‹æ ‡ï¼‰
            right = max(nums[i][0],right)
        left = heap[0][0]
        ans = [left,right]
        inter = right-left
        
        while heap:
            cur = heapq.heappop(heap)
            left = cur[0]
            if right-left < inter:
                inter = right-left
                ans[0] = left
                ans[1] = right
            next_i = cur[2] + 1
            if next_i >= len(nums[cur[1]]): break
            next_num = nums[cur[1]][next_i]

            right = max(next_num,right)
            heapq.heappush(heap,[next_num,cur[1],next_i])
        return ans
```

  

#### é¢è¯•é¢˜ 16.06. æœ€å°å·®

>   ![image-20210719155502629](images/image-20210719155502629.png)
>
>   æ€è·¯ï¼šå°†ä¸¤ä¸ªæ•°ç»„æ’åºä¹‹åï¼Œåˆ©ç”¨åŒæŒ‡é’ˆå°†ä¸¤ä¸ªæ•°ç»„ä¸­å½“å‰è¾ƒå°çš„å…ƒç´ åŠ å…¥æ¯”è¾ƒé˜Ÿåˆ—ï¼Œç›´åˆ°ä¸€ä¸ªæ•°ç»„éå†å®Œæ¯•ã€‚

```python
class Solution:
    def smallestDifference(self, a: List[int], b: List[int]) -> int:
        i = j = 0
        a.sort()
        b.sort()

        ans = float("inf")

        while i < len(a) and j < len(b):
            val = abs(a[i]-b[j])
            ans = min(ans,val)
            if a[i] <= b[j]:
                i += 1
            else:
                j += 1
        return ans
```



#### é¢è¯•é¢˜ 17.09 ç¬¬kä¸ªæ•°

>   ![image-20210719161411389](images/image-20210719161411389.png)
>
>   æ€è·¯ï¼šä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰

```python
class Solution:
    def getKthMagicNumber(self, k: int) -> int:
        H = []
        heapify(H)
        heappush(H,[1,0])
        nums = [3,5,7]
        n = len(nums)

        while True:
            cur,start = heappop(H)
            k -= 1
            if k == 0: return cur
            for i in range(start,3):
                heappush(H,[cur*nums[i],i]) # ä¿è¯æ•°æ®æŒ‰ç…§1,3,5,7,9,15,21,...
```

>   æ€è·¯ï¼šå¤šæŒ‡é’ˆï¼Œå¯ä»¥å®šä¹‰ä¸‰ä¸ªæŒ‡é’ˆï¼Œæœ¬è´¨ä¸Šç›¸å½“äºç”¨äº†ä¸‰ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ¥å­˜å‚¨å·²ç”Ÿæˆçš„ä¸‘æ•°ã€‚ä½†æ˜¯å› ä¸ºå·²ç”Ÿæˆçš„ä¸‘æ•°æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å°±ç”¨æ™®é€šçš„é˜Ÿåˆ—ä¹Ÿå°±æ˜¯æ•°ç»„+æŒ‡é’ˆå°±è¡Œäº†ã€‚æ¯æ¬¡ä¸‰ä¸ªé˜Ÿé¦–å…ƒç´ ä¹˜ä¸Šå¯¹åº”å› å­æ¯”è¾ƒä¸€ä¸‹ï¼Œå–æœ€å°çš„é‚£ä¸ªå‡ºé˜Ÿï¼Œå¹¶ä¸”ä¸‰ä¸ªé˜Ÿåˆ—éƒ½è¦å…¥é˜Ÿæ–°ä¸‘æ•°ã€‚

```python
class Solution:
    def getKthMagicNumber(self, k: int) -> int:
        res = [1] * k
        idx3, idx5, idx7 = 0, 0, 0
        for i in range(1, k):
            res[i] = min(res[idx3]*3, res[idx5]*5, res[idx7]*7)
            if res[i] == res[idx3]*3: idx3 += 1
            if res[i] == res[idx5]*5: idx5 += 1
            if res[i] == res[idx7]*7: idx7 += 1
        return res[k-1]
```



## é¢˜ç›® ~ 6  éœ€è¦è½¬æ¢æ€è·¯çš„åŒæŒ‡é’ˆ

#### 395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² ğŸ‰ğŸ‰

>   **åŒæŒ‡é’ˆæ³•ï¼š**
>
>   `äºŒæ®µæ€§ï¼š`ä¹Ÿå°±æ˜¯å‡è®¾æœ‰é•¿åº¦ `t` çš„ä¸€æ®µåŒºé—´æ»¡è¶³è¦æ±‚çš„è¯ï¼Œ`t + 1` é•¿åº¦çš„åŒºé—´æ˜¯å¦ã€Œä¸€å®šæ»¡è¶³ã€æˆ–è€…ã€Œä¸€å®šä¸æ»¡è¶³ã€å‘¢ï¼Ÿ
>
>   éœ€è¦æ³¨æ„ï¼šæ”¹é¢˜ç”¨ç®€å•çš„åŒæŒ‡é’ˆå¹¶ä¸å¯è§£ï¼Œå› ä¸ºä¸å­˜åœ¨`äºŒæ®µæ€§`ï¼Œä¹Ÿå°±æ˜¯å½“ï¼š
>
>   +   å½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œæœ€é•¿å­ä¸²æ—¢æœ‰å¯èƒ½å¢åŠ ï¼Œä¹Ÿæœ‰å¯èƒ½å‡å°‘ï¼Œæ¯”å¦‚ï¼š`aabbb[c]a`
>   +   å½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œæœ€é•¿å­ä¸²æ—¢æœ‰å¯èƒ½å¢åŠ ï¼Œä¹Ÿæœ‰å¯èƒ½å‡å°‘ï¼Œæ¯”å¦‚ï¼š`a[a]bbbca`
>
>   è¿™ä¸€é¢˜éœ€è¦è½¬åŒ–ä¸€ä¸‹ï¼Œè€ƒè™‘å­ä¸²ä¸­å­—ç¬¦çš„æ•°é‡ï¼Œè¿™æ—¶å€™å°±å­˜åœ¨`äºŒæ®µæ€§`äº†ï¼Œä¹Ÿå°±æ˜¯ï¼š
>
>   +   å½“å‰çš„å³æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå¢åŠ æˆ–è€…ä¸å˜ã€‚
>   +   å½“å‰çš„å·¦æŒ‡é’ˆå‘å³è¾¹ç§»åŠ¨çš„æ—¶å€™ï¼Œå­ä¸²ä¸­çš„å­—ç¬¦æ•°é‡åªä¼šå‡å°‘æˆ–è€…ä¸å˜ã€‚

```python
class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        ans = 0
        n = len(s)

        # pçš„å«ä¹‰æ˜¯ä¸€ä¸ªå­ä¸²ä¸­æ‰€èƒ½åŒ…å«çš„å­ä¸²çš„ä¸ªæ•°
        # éå†æ¯ä¸€ç§ï¼ˆå­—ç¬¦ä¸²æ•°é‡ï¼‰å¯èƒ½çš„å­—ç¬¦ä¸²
        for p in range(1,26):
            cnt = [0]*26 # åˆå§‹åŒ–

            i = j = 0 # iå’Œjè¡¨ç¤ºçš„æ˜¯å­ä¸²å­—ç¬¦ä¸ªæ•°ä¸ºpçš„å·¦å³ä¸‹æ ‡ï¼ˆåŒ…å«ï¼‰
            tot = 0   # å½“å‰å­ä¸²ä¸­å­—ç¬¦çš„æ•°é‡ 
            sum = 0   # å½“å‰å­ä¸²ä¸­è¾¾æ ‡ï¼ˆæ•°é‡å¤§äºkï¼‰å­—ç¬¦çš„æ•°é‡
            while i < n:
                u = ord(s[i]) - 97 # å³è¾¹ç•Œå­—ç¬¦çš„ä¸‹æ ‡
                cnt[u] += 1        # å½“å‰å­—ç¬¦æ•°é‡åŠ ä¸€

                if cnt[u] == 1: tot += 1 # å­—ç¬¦æ€»æ•°åŠ ä¸€
                if cnt[u] == k: sum += 1 # å­—ç¬¦æ•°é‡è¾¾æ ‡ï¼ŒåŠ ä¸€

                while tot > p: # å­—ç¬¦æ•°é‡ä¸åˆæ³•ï¼Œç¼©å°è¾¹ç•Œç›´åˆ°åˆæ³•
                    t = ord(s[j]) - 97   # å·¦è¾¹ç•Œå­—ç¬¦çš„ä¸‹æ ‡
                    cnt[t] -= 1          # å½“å‰å­—ç¬¦æ•°é‡å‡ä¸€
                    if cnt[t] == 0: tot -= 1 # å­—ç¬¦æ€»æ•°å‡ä¸€
                    if cnt[t] == k-1: sum -= 1 # å­—ç¬¦æ•°é‡ä¸è¾¾æ ‡ï¼Œå‡ä¸€
                    j += 1

                if tot == sum: ans = max(ans,i-j+1)

                i += 1
        return ans
```

>   **åˆ†æ²»æ³•ï¼š**
>
>   ![image.png](images/1614372760-jSXqur-image.png)
>
>   è¿™ä¸€é¢˜å¯ä»¥ç”¨åˆ†æ²»æ³•å®ç°ï¼š
>
>   +   å¦‚æœå½“å‰å­—ç¬¦ä¸²é•¿åº¦å°äºkï¼Œåˆ™ç›´æ¥è¿”å›0ï¼›
>   +   å¦‚æœå½“å‰å­—ç¬¦ä¸²é•¿åº¦å¤§äºkï¼Œåˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦çš„é¢‘æ•°
>       +   å¦‚æœé¢‘æ•°å¤§äºç­‰äºkï¼Œåˆ™è·³è¿‡
>       +   å¦‚æœé¢‘æ•°å¤§äºç­‰äºkï¼Œåˆ™ä»¥kä½œä¸ºåˆ†å‰²ç¬¦ï¼Œå°†æ•°æ®åˆ†å‰²ä¸ºå¤šä¸ªå­ä¸²ã€å› ä¸ºè¿™äº›å­ä¸²æ˜¯ä¸å¯èƒ½ç»„æˆæ»¡è¶³æ¡ä»¶çš„å­ä¸²ã€‘ï¼Œç„¶åé€’å½’è®¡ç®—æœ€ç»ˆçš„ç»“æœï¼Œå¹¶è¿”å›æœ€å¤§å€¼ã€‚

```python
class Solution:
    def longestSubstring(self, s: str, k: int) -> int:
        def helper(s,k):
            if len(s) < k: return 0
            for key,val in collection.Counter(s).items():
                if val < k:
                    return max([helper(t,k) for t in s.split(val)])
            return len(s)
```



#### 633 å¹³æ–¹æ•°ä¹‹å’Œ

>   æ€è·¯ï¼šè¿™é¢˜æ ¹æœ¬ä¸Šæ˜¯æœç´¢çš„é—®é¢˜ï¼Œç›®çš„æ˜¯æ‰¾åˆ°ä¸¤ä¸ªæ•°aå’Œbä½¿å¾—ï¼Œä¸¤ä¸ªæ•°å¹³æ–¹çš„å’Œç­‰äºcã€‚
>
>   ![image-20210720153731710](images/image-20210720153731710.png)



+   é¦–å…ˆï¼Œç¡®å®šæœç´¢çš„èŒƒå›´ï¼Œ$a^2$å’Œ$b^2$çš„éè´Ÿå¹¶ä¸”$a^2+b^2=c$ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œ$a$å’Œ$b$çš„èŒƒå›´åœ¨$[0,\sqrt{c}]$ä¸­ã€‚

+   å…¶æ¬¡ï¼Œå¦‚ä½•è¿›è¡Œæœç´¢ã€‚

    +   æ–¹æ³•ä¸€ï¼Œè®©aåœ¨$[0,\sqrt{c}]$ä¸­è¿›è¡Œçº¿æ€§æœç´¢ï¼Œè€Œå¯¹åº”çš„$b$åº”è¯¥ä¸º$\sqrt{c-a^2}$ï¼Œå¦‚æœ$b$æ˜¯æ•´æ•°ï¼Œåˆ™è¡¨æ˜æœç´¢åˆ°äº†ã€‚

    +   æ–¹æ³•äºŒï¼Œå·¦å³æŒ‡é’ˆæœç´¢ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œå·¦å³æŒ‡é’ˆæœç´¢ä¸ä¼šé”™è¿‡æ­£ç¡®ç­”æ¡ˆï¼Œè¿™å®é™…ä¸Šå’ŒäºŒç»´çŸ©é˜µæœç´¢ç±»ä¼¼ï¼Œä»å·¦åˆ°å³æ˜¯é€’å¢çš„ï¼Œä»ä¸Šåˆ°ä¸‹æ˜¯é€’å¢çš„ã€‚

        ![image-20210428092858618](../../typora\LeetCodeåˆ·é¢˜\images\image-20210428092858618.png)

```python
class Solution:
    def judgeSquareSum(self, c: int) -> bool:
        left = 0
        right = int(sqrt(c))
        while left <= right:
            cur = left*left + right*right
            if cur == c: return True
            elif cur > c: right -= 1
            else: left += 1
        return False
```
