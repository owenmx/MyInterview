#### 1. 如何在文件内快速查询

按照<key,val>形式存储表，然后进行排序，这在NoSql里面很常见。

#### 2. 如何存储超大表

对表进行拆分，拆分成小表，小小表。



#### 3. 内存表过大？

将内存表写入硬盘。





#### 4. 如何避免数据丢失

在表中加入log数据。





#### 5. 如何读数据？



#### 6. 如何写数据？





#### 7. 如何加速？

建立索引。





#### 8. 如何继续加速？

采用BloomFilter。假设有m个位，k个映射位。

那么一个位被映射为1的概率：$\frac{1}{m}$

保持为0的概率：$1-\frac{1}{m}$

映射k次依然为0的概率：${(1-\frac{1}{m})}^{k}$

n个元素映射k次依然为0的概率：${(1-\frac{1}{m})}^{nk}$

n个元素映射k次依然为1的概率：$1-{(1-\frac{1}{m})}^{nk}$

新来一个元素，k次映射都中的概率：${[1-{(1-\frac{1}{m})}^{nk}]}^k = {(1-e^{-\frac{nk}{m}})}^k$



#### 9. 如何将数据存到GFS





#### 10. 如何将表存到GFS中





#### 11.总结

BigTable使用<key,val>的物理结构存储了超大表

