#### MySql支持的数据库存储引擎

>   show engines;

![image-20210410160036549](C:\Users\chenmingxin7.360BUYAD\AppData\Roaming\Typora\typora-user-images\image-20210410160036549.png)

| 存储引擎   | 描述                                                         |
| ---------- | ------------------------------------------------------------ |
| ARCHIVE    | 用于数据存档的引擎，数据被插入后就不能在修改了，且不支持索引。 |
| CSV        | 在存储数据时，会以逗号作为数据项之间的分隔符。               |
| BLACKHOLE  | 会丢弃写操作，该操作会返回空内容。                           |
| FEDERATED  | 将数据存储在远程数据库中，用来访问远程表的存储引擎。         |
| **InnoDB** | **具备外键支持功能的事务处理引擎**                           |
| MEMORY     | 置于内存的表                                                 |
| MERGE      | 用来管理由多个 MyISAM 表构成的表集合                         |
| **MyISAM** | **主要的非事务处理存储引擎**                                 |
| NDB        | MySQL 集群专用存储引擎                                       |



| 特性         | MyISAM | InnoDB | MEMORY |
| ------------ | ------ | ------ | ------ |
| 存储限制     | 有     | 支持   | 有     |
| 事务安全     | 不支持 | 支持   | 不支持 |
| 锁机制       | 表锁   | 行锁   | 表锁   |
| B树索引      | 支持   | 支持   | 支持   |
| 哈希索引     | 不支持 | 不支持 | 支持   |
| 全文索引     | 支持   | 不支持 | 不支持 |
| 集群索引     | 不支持 | 支持   | 不支持 |
| 数据缓存     |        | 支持   | 支持   |
| 索引缓存     | 支持   | 支持   | 支持   |
| 数据可压缩   | 支持   | 不支持 | 不支持 |
| 空间使用     | 低     | 高     | N/A    |
| 内存使用     | 低     | 高     | 中等   |
| 批量插入速度 | 高     | 低     | 高     |
| 支持外键     | 不支持 | 支持   | 不支持 |





#### 局部性原理

程序局部性原理：是指程序在执行时呈现出局部性规律，即在一段时间内，整个程序的执行仅限于程序中的某一部分。相应地，执行所访问的存储空间也局限于某个内存区域，具体来说，局部性通常有两种形式：时间局部性和空间局部性。

**时间局部性**：被引用过一次的存储器位置在未来会被多次引用（通常在循环中）。

**空间局部性**：如果一个存储器的位置被引用，那么将来他附近的位置也会被引用。



#### InnoDB 存储引擎  [🔗](https://www.jianshu.com/p/d4cc0ea9d097)

支持行锁（用于高并发），支持事务，支持外键



#### InnoDB 包含以下四种行格式 [🔗](https://www.cnblogs.com/dbf-/p/11611886.html)

-   Compact
-   Redundant
-   Dynamic 
-   Compressed

Dynamic和Compressed与 Compact的区别只有在在处理行溢出（一行的数据大小超过了页的大小），他们将所有字节存储到其他页面中，并且只存储其他页面的地址，Compressed 与 Dymatic 不同的一点是它会采用压缩算法对页面进行压缩。



####  InnoDB堆组织表和MySiam的索引组织表

myisam使用的堆组织表(Heap Organize Table, HOT),没有聚集索引的概念,使用B-tree索引的存储格式，显示都是随机顺序。

innodb表是索引组织表(Index Organized Table, IOT)，它的索引则是采用 clustered index 方式，因此主键会按照顺序存储。